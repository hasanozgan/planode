/*

 FullCalendar v1.5.3
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Aug 14 14:11:56 2012 +0300

*/
(function(v,ra){function Hb(a){v.extend(true,bb,a)}function Zb(a,b,g){function c(p){if(i){q();D();pa();V(p)}else j()}function j(){m=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");i=v("<div class='fc-content' style='position:relative'/>").prependTo(a);l=new $b(aa,b);(u=l.render())&&a.prepend(u);G(b.defaultView);v(window).resize(na);B()||f()}function f(){setTimeout(function(){!h.start&&B()&&V()},0)}function y(){v(window).unbind("resize",na);l.destroy();
i.remove();a.removeClass("fc fc-rtl ui-widget")}function o(){return e.offsetWidth!==0}function B(){return v("body")[0].offsetWidth!==0}function G(p){if(!h||p!=h.name){M++;oa();var I=h,da;if(I){(I.beforeHide||Ib)();Wa(i,i.height());I.element.hide()}else Wa(i,1);i.css("overflow","hidden");if(h=H[p])h.element.show();else h=H[p]=new Ha[p](da=s=v("<div class='fc-view fc-view-"+p+"' style='position:absolute'/>").appendTo(i),aa);I&&l.deactivateButton(I.name);l.activateButton(p);V();i.css("overflow","");
I&&Wa(i,1);da||(h.afterShow||Ib)();M--}}function V(p){if(o()){M++;oa();w===ra&&q();var I=false;if(!h.start||p||A<h.start||A>=h.end){h.render(A,p||0);ga(true);I=true}else if(h.sizeDirty){h.clearEvents();ga();I=true}else if(h.eventsDirty){h.clearEvents();I=true}h.sizeDirty=false;h.eventsDirty=false;la(I);Y=a.outerWidth();l.updateTitle(h.title);p=new Date;p>=h.start&&p<h.end?l.disableButton("today"):l.enableButton("today");M--;aa.option("timeline")&&ac(h);h.trigger("viewDisplay",e)}}function U(){D();
if(o()){q();ga();oa();h.clearEvents();h.renderEvents(J);h.sizeDirty=false}}function D(){v.each(H,function(p,I){I.sizeDirty=true})}function q(){w=b.contentHeight?b.contentHeight:b.height?b.height-(u?u.height():0)-Qa(i):Math.round(i.width()/Math.max(b.aspectRatio,0.5))}function ga(p){M++;h.setHeight(w,p);if(s){s.css("position","relative");s=null}h.setWidth(i.width(),p);M--}function na(){if(!M)if(h.start){var p=++C;setTimeout(function(){if(p==C&&!M&&o())if(Y!=(Y=a.outerWidth())){M++;U();h.trigger("windowResize",
e);M--}},200)}else f()}function la(p){if(!b.lazyFetching||va(h.visStart,h.visEnd))qa();else p&&ha()}function qa(){k(h.visStart,h.visEnd)}function sa(p){J=p;ha()}function ka(p){ha(p)}function ha(p){pa();if(o()){h.clearEvents();h.renderEvents(J,p);h.eventsDirty=false}}function pa(){v.each(H,function(p,I){I.eventsDirty=true})}function ta(p,I,da){h.select(p,I,da===ra?true:da)}function oa(){h&&h.unselect()}function O(){V(-1)}function Z(){V(1)}function fa(){mb(A,-1);V()}function ia(){mb(A,1);V()}function n(){A=
new Date;V()}function x(p,I,da){if(p instanceof Date)A=P(p);else Jb(A,p,I,da);V()}function Q(p,I,da){p!==ra&&mb(A,p);I!==ra&&nb(A,I);da!==ra&&ca(A,da);V()}function d(){return P(A)}function K(){return h}function L(p,I){if(I===ra)return b[p];if(p=="height"||p=="contentHeight"||p=="aspectRatio"){b[p]=I;U()}}function W(p,I){if(b[p])return b[p].apply(I||e,Array.prototype.slice.call(arguments,2))}var aa=this;aa.options=b;aa.render=c;aa.destroy=y;aa.refetchEvents=qa;aa.reportEvents=sa;aa.reportEventChange=
ka;aa.rerenderEvents=ha;aa.changeView=G;aa.select=ta;aa.unselect=oa;aa.prev=O;aa.next=Z;aa.prevYear=fa;aa.nextYear=ia;aa.today=n;aa.gotoDate=x;aa.incrementDate=Q;aa.formatDate=function(p,I){return Ra(p,I,b)};aa.formatDates=function(p,I,da){return ob(p,I,da,b)};aa.getDate=d;aa.getView=K;aa.option=L;aa.trigger=W;bc.call(aa,b,g);var va=aa.isFetchNeeded,k=aa.fetchEvents,e=a[0],l,u,i,m,h,H={},Y,w,s,C=0,M=0,A=new Date,J=[],R;Jb(A,b.year,b.month,b.date);b.droppable&&v(document).bind("dragstart",function(p,
I){var da=p.target,ea=v(da);if(!ea.parents(".fc").length){var ja=b.dropAccept;if(v.isFunction(ja)?ja.call(da,ea):ea.is(ja)){R=da;h.dragStart(R,p,I)}}}).bind("dragstop",function(p,I){if(R){h.dragStop(R,p,I);R=null}})}function $b(a,b){function g(){D=b.theme?"ui":"fc";if(b.header)return U=v("<table class='fc-header' style='width:100%'/>").append(v("<tr/>").append(j("left")).append(j("center")).append(j("right")))}function c(){U.remove()}function j(q){var ga=v("<td class='fc-header-"+q+"'/>");(q=b.header[q])&&
v.each(q.split(" "),function(na){na>0&&ga.append("<span class='fc-header-space'/>");var la;v.each(this.split(","),function(qa,sa){if(sa=="title"){ga.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");la&&la.addClass(D+"-corner-right");la=null}else{var ka;if(a[sa])ka=a[sa];else if(Ha[sa])ka=function(){pa.removeClass(D+"-state-hover");a.changeView(sa)};if(ka){qa=b.theme?pb(b.buttonIcons,sa):null;var ha=pb(b.buttonText,sa),pa=v("<span class='fc-button fc-button-"+sa+" "+D+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+
(qa?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+qa+"'/></span>":ha)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(pa){pa.click(function(){pa.hasClass(D+"-state-disabled")||ka()}).mousedown(function(){pa.not("."+D+"-state-active").not("."+D+"-state-disabled").addClass(D+"-state-down")}).mouseup(function(){pa.removeClass(D+"-state-down")}).hover(function(){pa.not("."+D+"-state-active").not("."+D+"-state-disabled").addClass(D+"-state-hover")},function(){pa.removeClass(D+
"-state-hover").removeClass(D+"-state-down")}).appendTo(ga);la||pa.addClass(D+"-corner-left");la=pa}}}});la&&la.addClass(D+"-corner-right")});return ga}function f(q){U.find("h2").html(q)}function y(q){U.find("span.fc-button-"+q).addClass(D+"-state-active")}function o(q){U.find("span.fc-button-"+q).removeClass(D+"-state-active")}function B(q){U.find("span.fc-button-"+q).addClass(D+"-state-disabled")}function G(q){U.find("span.fc-button-"+q).removeClass(D+"-state-disabled")}var V=this;V.render=g;V.destroy=
c;V.updateTitle=f;V.activateButton=y;V.deactivateButton=o;V.disableButton=B;V.enableButton=G;var U=v([]),D}function bc(a,b){function g(d,K){return!Z||d<Z||K>fa}function c(d,K){Z=d;fa=K;Q=[];d=++ia;n=K=O.length;for(var L=0;L<K;L++)j(O[L],d)}function j(d,K){f(d,function(L){if(K==ia){if(L){for(var W=0;W<L.length;W++){L[W].source=d;na(L[W])}Q=Q.concat(L)}n--;n||ta(Q)}})}function f(d,K){var L,W=Ba.sourceFetchers,aa;for(L=0;L<W.length;L++){aa=W[L](d,Z,fa,K);if(aa===true)return;else if(typeof aa=="object"){f(aa,
K);return}}if(L=d.events)if(v.isFunction(L)){q();L(P(Z),P(fa),function(l){K(l);ga()})}else v.isArray(L)?K(L):K();else if(d.url){var va=d.success,k=d.error,e=d.complete;L=v.extend({},d.data||{});W=Xa(d.startParam,a.startParam);aa=Xa(d.endParam,a.endParam);if(W)L[W]=Math.round(+Z/1E3);if(aa)L[aa]=Math.round(+fa/1E3);q();v.ajax(v.extend({},cc,d,{data:L,success:function(l){l=l||[];var u=cb(va,this,arguments);if(v.isArray(u))l=u;K(l)},error:function(){cb(k,this,arguments);K()},complete:function(){cb(e,
this,arguments);ga()}}))}else K()}function y(d){if(d=o(d)){n++;j(d,ia)}}function o(d){if(v.isFunction(d)||v.isArray(d))d={events:d};else if(typeof d=="string")d={url:d};if(typeof d=="object"){la(d);O.push(d);return d}}function B(d){O=v.grep(O,function(K){return!qa(K,d)});Q=v.grep(Q,function(K){return!qa(K.source,d)});ta(Q)}function G(d){var K,L=Q.length,W,aa=pa().defaultEventEnd,va=d.start-d._start,k=d.end?d.end-(d._end||aa(d)):0;for(K=0;K<L;K++){W=Q[K];if(W._id==d._id&&W!=d){W.start=new Date(+W.start+
va);W.end=d.end?W.end?new Date(+W.end+k):new Date(+aa(W)+k):null;W.title=d.title;W.url=d.url;W.allDay=d.allDay;W.className=d.className;W.editable=d.editable;W.color=d.color;W.backgroudColor=d.backgroudColor;W.borderColor=d.borderColor;W.textColor=d.textColor;na(W)}}na(d);ta(Q)}function V(d,K){na(d);if(!d.source){if(K){oa.events.push(d);d.source=oa}Q.push(d)}ta(Q)}function U(d){if(d){if(!v.isFunction(d)){var K=d+"";d=function(W){return W._id==K}}Q=v.grep(Q,d,true);for(L=0;L<O.length;L++)if(v.isArray(O[L].events))O[L].events=
v.grep(O[L].events,d,true)}else{Q=[];for(var L=0;L<O.length;L++)if(v.isArray(O[L].events))O[L].events=[]}ta(Q)}function D(d){if(v.isFunction(d))return v.grep(Q,d);else if(d){d+="";return v.grep(Q,function(K){return K._id==d})}return Q}function q(){x++||ha("loading",null,true)}function ga(){--x||ha("loading",null,false)}function na(d){var K=d.source||{},L=Xa(K.ignoreTimezone,a.ignoreTimezone);d._id=d._id||(d.id===ra?"_fc"+dc++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=P(d.start=
qb(d.start,L));d.end=qb(d.end,L);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?P(d.end):null;if(d.allDay===ra)d.allDay=Xa(K.allDayDefault,a.allDayDefault);if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function la(d){if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[];for(var K=Ba.sourceNormalizers,L=0;L<K.length;L++)K[L](d)}function qa(d,K){return d&&K&&sa(d)==sa(K)}function sa(d){return(typeof d==
"object"?d.events||d.url:"")||d}var ka=this;ka.isFetchNeeded=g;ka.fetchEvents=c;ka.addEventSource=y;ka.removeEventSource=B;ka.updateEvent=G;ka.renderEvent=V;ka.removeEvents=U;ka.clientEvents=D;ka.normalizeEvent=na;var ha=ka.trigger,pa=ka.getView,ta=ka.reportEvents,oa={events:[]},O=[oa],Z,fa,ia=0,n=0,x=0,Q=[];for(ka=0;ka<b.length;ka++)o(b[ka])}function mb(a,b,g){a.setFullYear(a.getFullYear()+b);g||Fa(a);return a}function nb(a,b,g){if(+a){b=a.getMonth()+b;var c=P(a);c.setDate(1);c.setMonth(b);a.setMonth(b);
for(g||Fa(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+(a<c?1:-1))}return a}function ca(a,b,g){if(+a){b=a.getDate()+b;var c=P(a);c.setHours(9);c.setDate(b);a.setDate(b);g||Fa(a);rb(a,c)}return a}function rb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ec)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function Fa(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function P(a,b){if(b)return Fa(new Date(+a));return new Date(+a)}function Kb(){var a=
0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Ia(a,b,g){for(b=b||1;!a.getDay()||g&&a.getDay()==1||!g&&a.getDay()==6;)ca(a,b);return a}function za(a,b){return Math.round((P(a,true)-P(b,true))/Lb)}function Jb(a,b,g,c){if(b!==ra&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(g!==ra&&g!=a.getMonth()){a.setDate(1);a.setMonth(g)}c!==ra&&a.setDate(c)}function qb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===ra)b=true;return Mb(a,b)||(a?new Date(a):null)}return null}function Mb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var g=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){g.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){g.setDate(a[5]);b.setDate(a[5])}rb(g,b);a[7]&&g.setHours(a[7]);a[8]&&g.setMinutes(a[8]);a[10]&&g.setSeconds(a[10]);a[12]&&g.setMilliseconds(Number("0."+
a[12])*1E3);rb(g,b)}else{g.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);g.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;g=new Date(+g+b*60*1E3)}}return g}function sb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Ra(a,b,g){return ob(a,null,b,g)}function ob(a,b,g,c){c=c||bb;var j=a,f=b,y,o=g.length,B,G,V,U="";for(y=0;y<o;y++){B=g.charAt(y);if(B=="'")for(G=y+1;G<o;G++){if(g.charAt(G)=="'"){if(j){U+=G==y+1?"'":g.substring(y+1,G);y=G}break}}else if(B=="(")for(G=y+1;G<o;G++){if(g.charAt(G)==")"){y=Ra(j,g.substring(y+1,G),c);if(parseInt(y.replace(/\D/,""),10))U+=y;y=G;break}}else if(B=="[")for(G=y+1;G<o;G++){if(g.charAt(G)=="]"){B=g.substring(y+1,G);y=Ra(j,B,c);if(y!=Ra(f,B,c))U+=y;y=G;break}}else if(B==
"{"){j=b;f=a}else if(B=="}"){j=a;f=b}else{for(G=o;G>y;G--)if(V=fc[g.substring(y,G)]){if(j)U+=V(j,c);y=G-1;break}if(G==y)if(j)U+=B}}return U}function Ma(a){return a.end?gc(a.end,a.allDay):ca(P(a.start),1)}function gc(a,b){a=P(a);return b||a.getHours()||a.getMinutes()?ca(a,1):Fa(a)}function hc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Nb(a,b){return a.end>b.start&&a.start<b.end}function db(a,b,g,c){var j=[],f,y=a.length,o,B,G,V,U;for(f=0;f<y;f++){o=a[f];B=o.start;
G=b[f];if(G>g&&B<c){if(B<g){B=P(g);V=false}else{B=B;V=true}if(G>c){G=P(c);U=false}else{G=G;U=true}j.push({event:o,start:B,end:G,isStart:V,isEnd:U,msLength:G-B})}}return j.sort(hc)}function eb(a){var b=[],g,c=a.length,j,f,y,o;for(g=0;g<c;g++){j=a[g];for(f=0;;){y=false;if(b[f])for(o=0;o<b[f].length;o++)if(Nb(b[f][o],j)){y=true;break}if(y)f++;else break}if(b[f])b[f].push(j);else b[f]=[j]}return b}function Ob(a,b,g){a.unbind("mouseover").mouseover(function(c){for(var j=c.target,f;j!=this;){f=j;j=j.parentNode}if((j=
f._fci)!==ra){f._fci=ra;f=b[j];g(f.event,f.element,f);v(c.target).trigger(c)}c.stopPropagation()})}function Sa(a,b,g){for(var c=0,j;c<a.length;c++){j=v(a[c]);j.width(Math.max(0,b-fb(j,g)))}}function Pb(a,b,g){for(var c=0,j;c<a.length;c++){j=v(a[c]);j.height(Math.max(0,b-Qa(j,g)))}}function fb(a,b){return ic(a)+jc(a)+(b?kc(a):0)}function ic(a){return(parseFloat(v.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(v.curCSS(a[0],"paddingRight",true))||0)}function kc(a){return(parseFloat(v.curCSS(a[0],
"marginLeft",true))||0)+(parseFloat(v.curCSS(a[0],"marginRight",true))||0)}function jc(a){return(parseFloat(v.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(v.curCSS(a[0],"borderRightWidth",true))||0)}function Qa(a,b){return lc(a)+mc(a)+(b?tb(a):0)}function lc(a){return(parseFloat(v.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(v.curCSS(a[0],"paddingBottom",true))||0)}function tb(a){return(parseFloat(v.curCSS(a[0],"marginTop",true))||0)+(parseFloat(v.curCSS(a[0],"marginBottom",true))||0)}
function mc(a){return(parseFloat(v.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(v.curCSS(a[0],"borderBottomWidth",true))||0)}function Wa(a,b){b=typeof b=="number"?b+"px":b;a.each(function(g,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function Ib(){}function Qb(a,b){return a-b}function gb(a){return Math.max.apply(Math,a)}function Ta(a){return(a<10?"0":"")+a}function pb(a,b){if(a[b]!==ra)return a[b];b=b.split(/(?=[A-Z])/);for(var g=b.length-1,c;g>=0;g--){c=a[b[g].toLowerCase()];if(c!==
ra)return c}return a[""]}function Ga(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ub(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Ya(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Ua(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function Za(a,b){a.each(function(g,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+nc[b.getDay()])})}function vb(a,b){var g=a.source||{},c=a.color,j=g.color,f=b("eventColor"),y=a.backgroundColor||c||g.backgroundColor||j||b("eventBackgroundColor")||f;c=a.borderColor||c||g.borderColor||j||b("eventBorderColor")||f;a=a.textColor||g.textColor||b("eventTextColor");b=[];y&&b.push("background-color:"+y);c&&b.push("border-color:"+c);a&&b.push("color:"+a);return b.join(";")}function cb(a,b,g){if(v.isFunction(a))a=
[a];if(a){var c,j;for(c=0;c<a.length;c++)j=a[c].apply(b,g)||j;return j}}function Xa(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ra)return arguments[a]}function oc(a,b){function g(o,B){if(B){nb(o,B);o.setDate(1)}o=P(o,true);o.setDate(1);B=nb(P(o),1);var G=P(o),V=P(B),U=j("firstDay"),D=j("weekends")?0:1;if(D){Ia(G);Ia(V,-1,true)}ca(G,-((G.getDay()-Math.max(U,D)+7)%7));ca(V,(7-V.getDay()+Math.max(U,D))%7);U=Math.round((V-G)/(Lb*7));if(j("weekMode")=="fixed"){ca(V,(6-U)*7);U=6}c.title=y(o,
j("titleFormat"));c.start=o;c.end=B;c.visStart=G;c.visEnd=V;f(6,U,D?5:7,true)}var c=this;c.render=g;wb.call(c,a,b,"month");var j=c.opt,f=c.renderBasic,y=b.formatDate}function pc(a,b){function g(o,B){B&&ca(o,B*7);o=ca(P(o),-((o.getDay()-j("firstDay")+7)%7));B=ca(P(o),7);var G=P(o),V=P(B),U=j("weekends");if(!U){Ia(G);Ia(V,-1,true)}c.title=y(G,ca(P(V),-1),j("titleFormat"));c.start=o;c.end=B;c.visStart=G;c.visEnd=V;f(1,1,U?7:5,false)}var c=this;c.render=g;wb.call(c,a,b,"basicWeek");var j=c.opt,f=c.renderBasic,
y=b.formatDates}function qc(a,b){function g(o,B){if(B){ca(o,B);j("weekends")||Ia(o,B<0?-1:1)}c.title=y(o,j("titleFormat"));c.start=c.visStart=P(o,true);c.end=c.visEnd=ca(P(c.start),1);f(1,1,1,false)}var c=this;c.render=g;wb.call(c,a,b,"basicDay");var j=c.opt,f=c.renderBasic,y=b.formatDate}function wb(a,b,g){function c(r,z,F,S){C=z;M=F;j();(z=!l)?f(r,S):K();y(z)}function j(){if(p=Q("isRTL")){I=-1;da=M-1}else{I=1;da=0}ea=Q("firstDay");ja=Q("weekends")?0:1;ma=Q("theme")?"ui":"fc";E=Q("columnFormat")}
function f(r,z){var F,S=ma+"-widget-header",$=ma+"-widget-content",ba;F="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ba=0;ba<M;ba++)F+="<th class='fc- "+S+"'/>";F+="</tr></thead><tbody>";for(ba=0;ba<r;ba++){F+="<tr class='fc-week"+ba+"'>";for(S=0;S<M;S++)F+="<td class='fc- "+$+" fc-day"+(ba*M+S)+"'><div>"+(z?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";F+="</tr>"}F+="</tbody></table>";
r=v(F).appendTo(a);k=r.find("thead");e=k.find("th");l=r.find("tbody");u=l.find("tr");i=l.find("td");m=i.filter(":first-child");h=u.eq(0).find("div.fc-day-content div");Ua(k.add(k.find("tr")));Ua(u);u.eq(0).addClass("fc-first");G(i);H=v("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function y(r){var z=r||C==1,F=x.start.getMonth(),S=Fa(new Date),$,ba,ua;z&&e.each(function(xa,Ja){$=v(Ja);ba=Z(xa);$.html(va(ba,E));Za($,ba)});i.each(function(xa,Ja){$=v(Ja);ba=Z(xa);ba.getMonth()==
F?$.removeClass("fc-other-month"):$.addClass("fc-other-month");+ba==+S?$.addClass(ma+"-state-highlight fc-today"):$.removeClass(ma+"-state-highlight fc-today");$.find("div.fc-day-number").text(ba.getDate());z&&Za($,ba)});u.each(function(xa,Ja){ua=v(Ja);if(xa<C){ua.show();xa==C-1?ua.addClass("fc-last"):ua.removeClass("fc-last")}else ua.hide()})}function o(r){w=r;r=w-k.height();var z,F,S;if(Q("weekMode")=="variable")z=F=Math.floor(r/(C==1?2:6));else{z=Math.floor(r/C);F=r-z*(C-1)}m.each(function($,ba){if($<
C){S=v(ba);Wa(S.find("> div"),($==C-1?F:z)-Qa(S))}})}function B(r){Y=r;R.clear();s=Math.floor(Y/M);Sa(e.slice(0,-1),s)}function G(r){r.click(V).mousedown(aa)}function V(r){if(!Q("selectable")){var z=parseInt(this.className.match(/fc\-day(\d+)/)[1]);z=Z(z);d("dayClick",this,z,true,r)}}function U(r,z,F){F&&A.build();F=P(x.visStart);for(var S=ca(P(F),M),$=0;$<C;$++){var ba=new Date(Math.max(F,r)),ua=new Date(Math.min(S,z));if(ba<ua){var xa;if(p){xa=za(ua,F)*I+da+1;ba=za(ba,F)*I+da+1}else{xa=za(ba,F);
ba=za(ua,F)}G(D($,xa,$,ba-1))}ca(F,7);ca(S,7)}}function D(r,z,F,S){r=A.rect(r,z,F,S,a);return L(r,a)}function q(r){return P(r)}function ga(r,z){U(r,ca(P(z),1),true)}function na(){W()}function la(r,z,F){var S=ta(r);d("dayClick",i[S.row*M+S.col],r,z,F)}function qa(r,z){J.start(function(F){W();F&&D(F.row,F.col,F.row,F.col)},z)}function sa(r,z,F){var S=J.stop();W();if(S){S=oa(S);d("drop",r,S,true,z,F)}}function ka(r){return P(r.start)}function ha(r){return R.left(r)}function pa(r){return R.right(r)}function ta(r){return{row:Math.floor(za(r,
x.visStart)/7),col:fa(r.getDay())}}function oa(r){return O(r.row,r.col)}function O(r,z){return ca(P(x.visStart),r*7+z*I+da)}function Z(r){return O(Math.floor(r/M),r%M)}function fa(r){return(r-Math.max(ea,ja)+M)%M*I+da}function ia(r){return u.eq(r)}function n(){return{left:0,right:Y}}var x=this;x.renderBasic=c;x.setHeight=o;x.setWidth=B;x.renderDayOverlay=U;x.defaultSelectionEnd=q;x.renderSelection=ga;x.clearSelection=na;x.reportDayClick=la;x.dragStart=qa;x.dragStop=sa;x.defaultEventEnd=ka;x.getHoverListener=
function(){return J};x.colContentLeft=ha;x.colContentRight=pa;x.dayOfWeekCol=fa;x.dateCell=ta;x.cellDate=oa;x.cellIsAllDay=function(){return true};x.allDayRow=ia;x.allDayBounds=n;x.getRowCnt=function(){return C};x.getColCnt=function(){return M};x.getColWidth=function(){return s};x.getDaySegmentContainer=function(){return H};xb.call(x,a,b,g);yb.call(x);zb.call(x);rc.call(x);var Q=x.opt,d=x.trigger,K=x.clearEvents,L=x.renderOverlay,W=x.clearOverlays,aa=x.daySelectionMousedown,va=b.formatDate,k,e,l,
u,i,m,h,H,Y,w,s,C,M,A,J,R,p,I,da,ea,ja,ma,E;Ya(a.addClass("fc-grid"));A=new Ab(function(r,z){var F,S,$;e.each(function(ba,ua){F=v(ua);S=F.offset().left;if(ba)$[1]=S;$=[S];z[ba]=$});$[1]=S+F.outerWidth();u.each(function(ba,ua){if(ba<C){F=v(ua);S=F.offset().top;if(ba)$[1]=S;$=[S];r[ba]=$}});$[1]=S+F.outerHeight()});J=new Bb(A);R=new Cb(function(r){return h.eq(r)})}function rc(){function a(O,Z){V(O);ta(g(O),Z)}function b(){U();la().empty()}function g(O){var Z=ha(),fa=pa(),ia=P(f.visStart);fa=ca(P(ia),
fa);var n=v.map(O,Ma),x,Q,d,K,L,W,aa=[];for(x=0;x<Z;x++){Q=eb(db(O,n,ia,fa));for(d=0;d<Q.length;d++){K=Q[d];for(L=0;L<K.length;L++){W=K[L];W.row=x;W.level=d;aa.push(W)}}ca(ia,7);ca(fa,7)}return aa}function c(O,Z,fa){B(O)&&j(O,Z);fa.isEnd&&G(O)&&oa(O,Z,fa);D(O,Z)}function j(O,Z){var fa=qa(),ia;Z.draggable({zIndex:9,delay:50,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,x){o("eventDragStart",Z,O,n,x);ga(O,Z);fa.start(function(Q,d,K,L){Z.draggable("option","revert",
!Q||!K&&!L);ka();if(Q){ia=K*7+L*(y("isRTL")?-1:1);sa(ca(P(O.start),ia),ca(Ma(O),ia))}else ia=0},n,"drag")},stop:function(n,x){fa.stop();ka();o("eventDragStop",Z,O,n,x);if(ia)na(this,O,ia,0,O.allDay,n,x);else{Z.css("filter","");q(O,Z)}}})}var f=this;f.renderEvents=a;f.compileDaySegs=g;f.clearEvents=b;f.bindDaySeg=c;Rb.call(f);var y=f.opt,o=f.trigger,B=f.isEventDraggable,G=f.isEventResizable,V=f.reportEvents,U=f.reportEventClear,D=f.eventElementHandlers,q=f.showEvents,ga=f.hideEvents,na=f.eventDrop,
la=f.getDaySegmentContainer,qa=f.getHoverListener,sa=f.renderDayOverlay,ka=f.clearOverlays,ha=f.getRowCnt,pa=f.getColCnt,ta=f.renderDaySegs,oa=f.resizableDayEvent}function sc(a,b){function g(o,B){B&&ca(o,B*7);o=ca(P(o),-((o.getDay()-j("firstDay")+7)%7));B=ca(P(o),7);var G=P(o),V=P(B),U=j("weekends");if(!U){Ia(G);Ia(V,-1,true)}c.title=y(G,ca(P(V),-1),j("titleFormat"));c.start=o;c.end=B;c.visStart=G;c.visEnd=V;f(U?7:5)}var c=this;c.render=g;Sb.call(c,a,b,"agendaWeek");var j=c.opt,f=c.renderAgenda,y=
b.formatDates}function tc(a,b){function g(o,B){if(B){ca(o,B);j("weekends")||Ia(o,B<0?-1:1)}B=P(o,true);var G=ca(P(B),1);c.title=y(o,j("titleFormat"));c.start=c.visStart=B;c.end=c.visEnd=G;f(1)}var c=this;c.render=g;Sb.call(c,a,b,"agendaDay");var j=c.opt,f=c.renderAgenda,y=b.formatDate}function Sb(a,b,g){function c(t){Ca=t;j();C?u():f();y()}function j(){$a=e("theme")?"ui":"fc";Tb=e("weekends")?0:1;Ub=e("firstDay");if(Vb=e("isRTL")){Ka=-1;La=Ca-1}else{Ka=1;La=0}Na=sb(e("minTime"));hb=sb(e("maxTime"));
Wb=e("columnFormat")}function f(){var t=$a+"-widget-header",X=$a+"-widget-content",N,T,wa,Aa,Da,Ea=e("slotMinutes")%15==0;N="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(T=0;T<Ca;T++)N+="<th class='fc- fc-col"+T+" "+t+"'/>";N+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(T=0;T<Ca;T++)N+="<td class='fc- fc-col"+T+" "+X+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
N+="<td class='fc-agenda-gutter "+X+"'>&nbsp;</td></tr></tbody></table>";C=v(N).appendTo(a);M=C.find("thead");A=M.find("th").slice(1,-1);J=C.find("tbody");R=J.find("td").slice(0,-1);p=R.find("div.fc-day-content div");I=R.eq(0);da=I.find("> div");Ua(M.add(M.find("tr")));Ua(J.add(J.find("tr")));ba=M.find("th:first");ua=C.find(".fc-agenda-gutter");ea=v("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(e("allDaySlot")){ja=v("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ea);
N="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+e("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+t+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=v(N).appendTo(ea);E=ma.find("tr");D(E.find("td"));ba=ba.add(ma.find("th:first"));ua=ua.add(ma.find("th.fc-agenda-gutter"));ea.append("<div class='fc-agenda-divider "+t+"'><div class='fc-agenda-divider-inner'/></div>")}else ja=v([]);
r=v("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ea);z=v("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(r);F=v("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(z);N="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";wa=Kb();Aa=ya(P(wa),hb);ya(wa,Na);for(T=Db=0;wa<Aa;T++){Da=wa.getMinutes();N+="<tr class='fc-slot"+T+" "+(!Da?"":"fc-minor")+"'><th class='fc-agenda-axis "+t+"'>"+(!Ea||!Da?
s(wa,e("axisFormat")):"&nbsp;")+"</th><td class='"+X+"'><div style='position:relative'>&nbsp;</div></td></tr>";ya(wa,e("slotMinutes"));Db++}N+="</tbody></table>";S=v(N).appendTo(z);$=S.find("div:first");q(S.find("td"));ba=ba.add(S.find("th:first"))}function y(){var t,X,N,T,wa=Fa(new Date);for(t=0;t<Ca;t++){T=ta(t);X=A.eq(t);X.html(s(T,Wb));N=R.eq(t);+T==+wa?N.addClass($a+"-state-highlight fc-today"):N.removeClass($a+"-state-highlight fc-today");Za(X.add(N),T)}}function o(t,X){if(t===ra)t=Xb;Xb=t;
Eb={};var N=J.position().top,T=r.position().top;t=Math.min(t-N,S.height()+T+1);da.height(t-Qa(I));ea.css("top",N);r.height(t-T-1);ab=$.height()+1;X&&G()}function B(t){Ja=t;ib.clear();Oa=0;Sa(ba.width("").each(function(X,N){Oa=Math.max(Oa,v(N).outerWidth())}),Oa);t=r[0].clientWidth;if(Fb=r.width()-t){Sa(ua,Fb);ua.show().prev().removeClass("fc-last")}else ua.hide().prev().addClass("fc-last");jb=Math.floor((t-Oa)/Ca);Sa(A.slice(0,-1),jb)}function G(){function t(){r.scrollTop(T)}var X=Kb(),N=P(X);N.setHours(e("firstHour"));
var T=Z(X,N)+1;t();setTimeout(t,0)}function V(){Yb=r.scrollTop()}function U(){r.scrollTop(Yb)}function D(t){t.click(ga).mousedown(Y)}function q(t){t.click(ga).mousedown(L)}function ga(t){if(!e("selectable")){var X=Math.min(Ca-1,Math.floor((t.pageX-C.offset().left-Oa)/jb)),N=ta(X),T=this.parentNode.className.match(/fc-slot(\d+)/);if(T){T=parseInt(T[1])*e("slotMinutes");var wa=Math.floor(T/60);N.setHours(wa);N.setMinutes(T%60+Na);l("dayClick",R[X],N,false,t)}else l("dayClick",R[X],N,true,t)}}function na(t,
X,N){N&&Pa.build();var T=P(k.visStart);if(Vb){N=za(X,T)*Ka+La+1;t=za(t,T)*Ka+La+1}else{N=za(t,T);t=za(X,T)}N=Math.max(0,N);t=Math.min(Ca,t);N<t&&D(la(0,N,0,t-1))}function la(t,X,N,T){t=Pa.rect(t,X,N,T,ea);return i(t,ea)}function qa(t,X){for(var N=P(k.visStart),T=ca(P(N),1),wa=0;wa<Ca;wa++){var Aa=new Date(Math.max(N,t)),Da=new Date(Math.min(T,X));if(Aa<Da){var Ea=wa*Ka+La;Ea=Pa.rect(0,Ea,0,Ea,z);Aa=Z(N,Aa);Da=Z(N,Da);Ea.top=Aa;Ea.height=Da-Aa;q(i(Ea,z))}ca(N,1);ca(T,1)}}function sa(t){return ib.left(t)}
function ka(t){return ib.right(t)}function ha(t){return{row:Math.floor(za(t,k.visStart)/7),col:O(t.getDay())}}function pa(t){var X=ta(t.col);t=t.row;e("allDaySlot")&&t--;t>=0&&ya(X,Na+t*e("slotMinutes"));return X}function ta(t){return ca(P(k.visStart),t*Ka+La)}function oa(t){return e("allDaySlot")&&!t.row}function O(t){return(t-Math.max(Ub,Tb)+Ca)%Ca*Ka+La}function Z(t,X){t=P(t,true);if(X<ya(P(t),Na))return 0;if(X>=ya(P(t),hb))return S.height();t=e("slotMinutes");X=X.getHours()*60+X.getMinutes()-
Na;var N=Math.floor(X/t),T=Eb[N];if(T===ra)T=Eb[N]=S.find("tr:eq("+N+") td div")[0].offsetTop;return Math.max(0,Math.round(T-1+ab*(X%t/t)))}function fa(){return{left:Oa,right:Ja-Fb}}function ia(){return E}function n(t){var X=P(t.start);if(t.allDay)return X;return ya(X,e("defaultEventMinutes"))}function x(t,X){if(X)return P(t);return ya(P(t),e("slotMinutes"))}function Q(t,X,N){if(N)e("allDaySlot")&&na(t,ca(P(X),1),true);else d(t,X)}function d(t,X){var N=e("selectHelper");Pa.build();if(N){var T=za(t,
k.visStart)*Ka+La;if(T>=0&&T<Ca){T=Pa.rect(0,T,0,T,z);var wa=Z(t,t),Aa=Z(t,X);if(Aa>wa){T.top=wa;T.height=Aa-wa;T.left+=2;T.width-=5;if(v.isFunction(N)){if(t=N(t,X)){T.position="absolute";T.zIndex=8;xa=v(t).css(T).appendTo(z)}}else{T.isStart=true;T.isEnd=true;xa=v(w({title:"",start:t,end:X,className:["fc-select-helper"],editable:false},T));xa.css("opacity",e("dragOpacity"))}if(xa){q(xa);z.append(xa);Sa(xa,T.width,true);Pb(xa,T.height,true)}}}}else qa(t,X)}function K(){m();if(xa){xa.remove();xa=null}}
function L(t){if(t.which==1&&e("selectable")){H(t);var X;Va.start(function(N,T){K();if(N&&N.col==T.col&&!oa(N)){T=pa(T);N=pa(N);X=[T,ya(P(T),e("slotMinutes")),N,ya(P(N),e("slotMinutes"))].sort(Qb);d(X[0],X[3])}else X=null},t);v(document).one("mouseup",function(N){Va.stop();if(X){+X[0]==+X[1]&&W(X[0],false,N);h(X[0],X[3],false,N)}})}}function W(t,X,N){l("dayClick",R[O(t.getDay())],t,X,N)}function aa(t,X){Va.start(function(N){m();if(N)if(oa(N))la(N.row,N.col,N.row,N.col);else{N=pa(N);var T=ya(P(N),
e("defaultEventMinutes"));qa(N,T)}},X)}function va(t,X,N){var T=Va.stop();m();T&&l("drop",t,pa(T),oa(T),X,N)}var k=this;k.renderAgenda=c;k.setWidth=B;k.setHeight=o;k.beforeHide=V;k.afterShow=U;k.defaultEventEnd=n;k.timePosition=Z;k.dayOfWeekCol=O;k.dateCell=ha;k.cellDate=pa;k.cellIsAllDay=oa;k.allDayRow=ia;k.allDayBounds=fa;k.getHoverListener=function(){return Va};k.colContentLeft=sa;k.colContentRight=ka;k.getDaySegmentContainer=function(){return ja};k.getSlotSegmentContainer=function(){return F};
k.getMinMinute=function(){return Na};k.getMaxMinute=function(){return hb};k.getBodyContent=function(){return z};k.getRowCnt=function(){return 1};k.getColCnt=function(){return Ca};k.getColWidth=function(){return jb};k.getSlotHeight=function(){return ab};k.defaultSelectionEnd=x;k.renderDayOverlay=na;k.renderSelection=Q;k.clearSelection=K;k.reportDayClick=W;k.dragStart=aa;k.dragStop=va;xb.call(k,a,b,g);yb.call(k);zb.call(k);uc.call(k);var e=k.opt,l=k.trigger,u=k.clearEvents,i=k.renderOverlay,m=k.clearOverlays,
h=k.reportSelection,H=k.unselect,Y=k.daySelectionMousedown,w=k.slotSegHtml,s=b.formatDate,C,M,A,J,R,p,I,da,ea,ja,ma,E,r,z,F,S,$,ba,ua,xa,Ja,Xb,Oa,jb,Fb,ab,Yb,Ca,Db,Pa,Va,ib,Eb={},$a,Ub,Tb,Vb,Ka,La,Na,hb,Wb;Ya(a.addClass("fc-agenda"));Pa=new Ab(function(t,X){function N(kb){return Math.max(Ea,Math.min(vc,kb))}var T,wa,Aa;A.each(function(kb,wc){T=v(wc);wa=T.offset().left;if(kb)Aa[1]=wa;Aa=[wa];X[kb]=Aa});Aa[1]=wa+T.outerWidth();if(e("allDaySlot")){T=E;wa=T.offset().top;t[0]=[wa,wa+T.outerHeight()]}for(var Da=
z.offset().top,Ea=r.offset().top,vc=Ea+r.outerHeight(),lb=0;lb<Db;lb++)t.push([N(Da+ab*lb),N(Da+ab*(lb+1))])});Va=new Bb(Pa);ib=new Cb(function(t){return p.eq(t)})}function uc(){function a(w,s){sa(w);var C,M=w.length,A=[],J=[];for(C=0;C<M;C++)w[C].allDay?A.push(w[C]):J.push(w[C]);if(q("allDaySlot")){Q(g(A),s);pa()}f(c(J),s)}function b(){ka();ta().empty();oa().empty()}function g(w){w=eb(db(w,v.map(w,Ma),D.visStart,D.visEnd));var s,C=w.length,M,A,J,R=[];for(s=0;s<C;s++){M=w[s];for(A=0;A<M.length;A++){J=
M[A];J.row=0;J.level=s;R.push(J)}}return R}function c(w){var s=K(),C=fa(),M=Z(),A=ya(P(D.visStart),C),J=v.map(w,j),R,p,I,da,ea,ja,ma=[];for(R=0;R<s;R++){p=eb(db(w,J,A,ya(P(A),M-C)));xc(p);for(I=0;I<p.length;I++){da=p[I];for(ea=0;ea<da.length;ea++){ja=da[ea];ja.col=R;ja.level=I;ma.push(ja)}}ca(A,1,true)}return ma}function j(w){return w.end?P(w.end):ya(P(w.start),q("defaultEventMinutes"))}function f(w,s){var C,M=w.length,A,J,R,p,I,da,ea,ja,ma,E="",r,z,F={},S={},$=oa(),ba;C=K();if(r=q("isRTL")){z=-1;
ba=C-1}else{z=1;ba=0}for(C=0;C<M;C++){A=w[C];J=A.event;R=ia(A.start,A.start);p=ia(A.start,A.end);I=A.col;da=A.level;ea=A.forward||0;ja=n(I*z+ba);ma=x(I*z+ba)-ja;ma=Math.min(ma-6,ma*0.95);I=da?ma/(da+ea+1):ea?(ma/(ea+1)-6)*2:ma;da=ja+ma/(da+ea+1)*da*z+(r?ma-I:0);A.top=R;A.left=da;A.outerWidth=I;A.outerHeight=p-R;E+=y(J,A)}$[0].innerHTML=E;r=$.children();for(C=0;C<M;C++){A=w[C];J=A.event;E=v(r[C]);z=ga("eventRender",J,J,E);if(z===false)E.remove();else{if(z&&z!==true){E.remove();E=v(z).css({position:"absolute",
top:A.top,left:A.left}).appendTo($)}A.element=E;if(J._id===s)B(J,E,A);else E[0]._fci=C;va(J,E)}}Ob($,w,B);for(C=0;C<M;C++){A=w[C];if(E=A.element){J=F[s=A.key=ub(E[0])];A.vsides=J===ra?(F[s]=Qa(E,true)):J;J=S[s];A.hsides=J===ra?(S[s]=fb(E,true)):J;s=E.find("div.fc-event-content");if(s.length)A.contentTop=s[0].offsetTop}}for(C=0;C<M;C++){A=w[C];if(E=A.element){E[0].style.width=Math.max(0,A.outerWidth-A.hsides)+"px";F=Math.max(0,A.outerHeight-A.vsides);E[0].style.height=F+"px";J=A.event;if(A.contentTop!==
ra&&F-A.contentTop<10){E.find("div.fc-event-time").text(H(J.start,q("timeFormat"))+" - "+J.title);E.find("div.fc-event-title").remove()}ga("eventAfterRender",J,J,E)}}}function y(w,s){var C="<",M=w.url,A=vb(w,q),J=A?" style='"+A+"'":"",R=["fc-event","fc-event-skin","fc-event-vert"];na(w)&&R.push("fc-event-draggable");s.isStart&&R.push("fc-corner-top");s.isEnd&&R.push("fc-corner-bottom");R=R.concat(w.className);if(w.source)R=R.concat(w.source.className||[]);C+=M?"a href='"+Ga(w.url)+"'":"div";C+=" class='"+
R.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+A+"'><div class='fc-event-inner fc-event-skin'"+J+"><div class='fc-event-head fc-event-skin'"+J+"><div class='fc-event-time'>"+Ga(Y(w.start,w.end,q("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ga(w.title)+"</div></div><div class='fc-event-bg'></div></div>";if(s.isEnd&&la(w))C+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";C+="</"+(M?"a":"div")+">";return C}
function o(w,s,C){na(w)&&G(w,s,C.isStart);C.isEnd&&la(w)&&d(w,s,C);ha(w,s)}function B(w,s,C){var M=s.find("div.fc-event-time");na(w)&&V(w,s,M);C.isEnd&&la(w)&&U(w,s,M);ha(w,s)}function G(w,s,C){function M(){if(!R){s.width(A).height("").draggable("option","grid",null);R=true}}var A,J,R=true,p,I=q("isRTL")?-1:1,da=O(),ea=L(),ja=W(),ma=fa();s.draggable({zIndex:9,opacity:q("dragOpacity","month"),revertDuration:q("dragRevertDuration"),start:function(E,r){ga("eventDragStart",s,w,E,r);e(w,s);A=s.width();
da.start(function(z,F,S,$){m();if(z){J=false;p=$*I;if(z.row)if(C){if(R){s.width(ea-10);Pb(s,ja*Math.round((w.end?(w.end-w.start)/yc:q("defaultEventMinutes"))/q("slotMinutes")));s.draggable("option","grid",[ea,1]);R=false}}else J=true;else{i(ca(P(w.start),p),ca(Ma(w),p));M()}J=J||R&&!p}else{M();J=true}s.draggable("option","revert",J)},E,"drag")},stop:function(E,r){da.stop();m();ga("eventDragStop",s,w,E,r);if(J){M();s.css("filter","");k(w,s)}else{var z=0;R||(z=Math.round((s.offset().top-aa().offset().top)/
ja)*q("slotMinutes")+ma-(w.start.getHours()*60+w.start.getMinutes()));l(this,w,p,z,R,E,r)}}})}function V(w,s,C){function M(z){var F=ya(P(w.start),z),S;if(w.end)S=ya(P(w.end),z);C.text(Y(F,S,q("timeFormat")))}function A(){if(R){C.css("display","");s.draggable("option","grid",[E,r]);R=false}}var J,R=false,p,I,da,ea=q("isRTL")?-1:1,ja=O(),ma=K(),E=L(),r=W();s.draggable({zIndex:9,scroll:false,grid:[E,r],axis:ma==1?"y":false,opacity:q("dragOpacity"),revertDuration:q("dragRevertDuration"),start:function(z,
F){ga("eventDragStart",s,w,z,F);e(w,s);J=s.position();I=da=0;ja.start(function(S,$,ba,ua){s.draggable("option","revert",!S);m();if(S){p=ua*ea;if(q("allDaySlot")&&!S.row){if(!R){R=true;C.hide();s.draggable("option","grid",null)}i(ca(P(w.start),p),ca(Ma(w),p))}else A()}},z,"drag")},drag:function(z,F){I=Math.round((F.position.top-J.top)/r)*q("slotMinutes");if(I!=da){R||M(I);da=I}},stop:function(z,F){var S=ja.stop();m();ga("eventDragStop",s,w,z,F);if(S&&(p||I||R))l(this,w,p,R?0:I,R,z,F);else{A();s.css("filter",
"");s.css(J);M(0);k(w,s)}}})}function U(w,s,C){var M,A,J=W();s.resizable({handles:{s:"div.ui-resizable-s"},grid:J,start:function(R,p){M=A=0;e(w,s);s.css("z-index",9);ga("eventResizeStart",this,w,R,p)},resize:function(R,p){M=Math.round((Math.max(J,s.height())-p.originalSize.height)/J);if(M!=A){C.text(Y(w.start,!M&&!w.end?null:ya(qa(w),q("slotMinutes")*M),q("timeFormat")));A=M}},stop:function(R,p){ga("eventResizeStop",this,w,R,p);if(M)u(this,w,0,q("slotMinutes")*M,R,p);else{s.css("z-index",8);k(w,s)}}})}
var D=this;D.renderEvents=a;D.compileDaySegs=g;D.clearEvents=b;D.slotSegHtml=y;D.bindDaySeg=o;Rb.call(D);var q=D.opt,ga=D.trigger,na=D.isEventDraggable,la=D.isEventResizable,qa=D.eventEnd,sa=D.reportEvents,ka=D.reportEventClear,ha=D.eventElementHandlers,pa=D.setHeight,ta=D.getDaySegmentContainer,oa=D.getSlotSegmentContainer,O=D.getHoverListener,Z=D.getMaxMinute,fa=D.getMinMinute,ia=D.timePosition,n=D.colContentLeft,x=D.colContentRight,Q=D.renderDaySegs,d=D.resizableDayEvent,K=D.getColCnt,L=D.getColWidth,
W=D.getSlotHeight,aa=D.getBodyContent,va=D.reportEventElement,k=D.showEvents,e=D.hideEvents,l=D.eventDrop,u=D.eventResize,i=D.renderDayOverlay,m=D.clearOverlays,h=D.calendar,H=h.formatDate,Y=h.formatDates}function xc(a){var b,g,c,j,f,y;for(b=a.length-1;b>0;b--){j=a[b];for(g=0;g<j.length;g++){f=j[g];for(c=0;c<a[b-1].length;c++){y=a[b-1][c];if(Nb(f,y))y.forward=Math.max(y.forward||0,(f.forward||0)+1)}}}}function zc(a,b){function g(o,B){B&&ca(o,B);o=P(o,true);B=ca(P(o,true),1);var G=P(o,true),V=ca(P(B,
true),Gb);c.title=y(o,j("titleFormat"));c.start=o;c.end=B;c.visStart=G;c.visEnd=V;f(Gb)}var c=this;c.render=g;Ac.call(c,a,b,"agenda");var j=c.opt,f=c.renderList,y=b.formatDate}function Ac(a,b,g){function c(E){s=Gb;C=1;j();var r=!e;r?f(E):d();y(r)}function j(){if(R=x("isRTL")){p=-1;I=C-1}else{p=1;I=0}da=x("firstDay");ea=x("weekends")?0:1;ja=x("theme")?"ui":"fc";ma=x("columnFormat")}function f(E){var r,z;r="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";r+="</tr></thead><tbody>";
for(z=0;z<E;z++)r+="<tr class='row-num-"+z+"' style='padding: 10px;'><td><div class='fc-day-content'><div></div></div></td></tr>";r+="</tbody></table>";E=v(r).appendTo(a);va=E.find("thead");k=va.find("th");e=E.find("tbody");l=e.find("tr");u=e.find("td");i=u.filter(":first-child");m=l.eq(0).find("div.fc-day-content div");Ua(va.add(va.find("tr")));Ua(l);l.eq(0).addClass("fc-first");G(u);h=v("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function y(E){var r=E||s==1,z=n.start.getMonth();
Fa(new Date);var F,S,$;r&&k.each(function(ba,ua){F=v(ua);S=new Date(n.start.getTime()+ba*24*60*60*1E3);F.html(aa(S,ma));Za(F,S)});u.each(function(ba,ua){F=v(ua);S=new Date(n.start.getTime()+ba*24*60*60*1E3);S.getMonth()==z?F.removeClass("fc-other-month"):F.addClass("fc-other-month");F.find("div.fc-day-number").text(S.getDate());r&&Za(F,S)});l.each(function(ba,ua){$=v(ua);if(ba<s){$.show();ba==s-1?$.addClass("fc-last"):$.removeClass("fc-last")}else $.hide()})}function o(E){Y=E;E=Y-va.height();var r,
z,F;if(x("weekMode")=="variable")r=z=Math.floor(E/(s==1?2:6));else{r=Math.floor(E/s);z=E-r*(s-1)}i.each(function(S,$){if(S<s){F=v($);Wa(F.find("> div"),(S==s-1?z:r)-Qa(F))}})}function B(E){H=E;J.clear();w=Math.floor(H/C);Sa(k.slice(0,-1),w)}function G(E){E.click(V).mousedown(W)}function V(){}function U(E,r,z){z&&M.build();z=P(n.start);for(var F=ca(P(z),C),S=0;S<s;S++){var $=new Date(Math.max(z,E)),ba=new Date(Math.min(F,r));if($<ba){var ua;if(R){ua=za(ba,z)*p+I+1;$=za($,z)*p+I+1}else{ua=za($,z);$=
za(ba,z)}G(D(S,ua,S,$-1))}ca(z,1);ca(F,1)}}function D(E,r,z,F){E=M.rect(E,r,z,F,a);return K(E,a)}function q(E){return P(E)}function ga(E,r){U(E,ca(P(r),1),true)}function na(){L()}function la(E,r,z){var F=ta(E);Q("dayClick",u[F.row*C+F.col],E,r,z)}function qa(E,r){A.start(function(z){L();z&&D(z.row,z.col,z.row,z.col)},r)}function sa(E,r,z){var F=A.stop();L();if(F){F=oa(F);Q("drop",E,F,true,r,z)}}function ka(E){return P(E.start)}function ha(E){return J.left(E)}function pa(E){return J.right(E)}function ta(E){return{row:Math.floor(za(E,
n.visStart)/7),col:Z(E.getDay())}}function oa(E){return O(E.row,E.col)}function O(E,r){return ca(P(n.visStart),E*7+r*p+I)}function Z(E){return(E-Math.max(da,ea)+C)%C*p+I}function fa(E){return l.eq(E)}function ia(){return{left:0,right:H}}var n=this;n.renderList=c;n.setHeight=o;n.setWidth=B;n.renderDayOverlay=U;n.defaultSelectionEnd=q;n.renderSelection=ga;n.clearSelection=na;n.reportDayClick=la;n.dragStart=qa;n.dragStop=sa;n.defaultEventEnd=ka;n.getHoverListener=function(){return A};n.colContentLeft=
ha;n.colContentRight=pa;n.dayOfWeekCol=Z;n.dateCell=ta;n.cellDate=oa;n.cellIsAllDay=function(){return true};n.allDayRow=fa;n.allDayBounds=ia;n.getRowCnt=function(){return s};n.getColCnt=function(){return C};n.getColWidth=function(){return w};n.getDaySegmentContainer=function(){return h};xb.call(n,a,b,g);yb.call(n);zb.call(n);Bc.call(n);var x=n.opt,Q=n.trigger,d=n.clearEvents,K=n.renderOverlay,L=n.clearOverlays,W=n.daySelectionMousedown,aa=b.formatDate,va,k,e,l,u,i,m,h,H,Y,w,s,C,M,A,J,R,p,I,da,ea,
ja,ma;Ya(a.addClass("fc-grid"));M=new Ab(function(E,r){var z,F,S;k.each(function($,ba){z=v(ba);F=z.offset().left;if($)S[1]=F;S=[F];r[$]=S});S[1]=F+z.outerWidth();l.each(function($,ba){if($<s){z=v(ba);F=z.offset().top;if($)S[1]=F;S=[F];E[$]=S}});S[1]=F+z.outerHeight()});A=new Bb(M);J=new Cb(function(E){return m.eq(E)})}function Bc(){function a(O,Z){V(O);ta(g(O),Z)}function b(){U();la().empty()}function g(O){var Z=ha(),fa=pa(),ia=P(f.visStart);fa=ca(P(ia),fa);var n=v.map(O,Ma),x,Q,d,K,L,W,aa=[],va=
0;for(x=0;x<Z;x++){Q=eb(db(O,n,ia,fa));for(d=0;d<Q.length;d++){K=Q[d];for(L=0;L<K.length;L++){W=K[L];W.row=va;W.level=d;aa.push(W)}}Q.length>0&&va++;ca(ia,1);ca(fa,1)}return aa}function c(O,Z,fa){B(O)&&j(O,Z);fa.isEnd&&G(O)&&oa(O,Z,fa);D(O,Z)}function j(O,Z){var fa=qa(),ia;Z.draggable({zIndex:9,delay:50,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,x){o("eventDragStart",Z,O,n,x);ga(O,Z);fa.start(function(Q,d,K,L){Z.draggable("option","revert",!Q||!K&&!L);ka();if(Q){ia=
K*7+L*(y("isRTL")?-1:1);sa(ca(P(O.start),ia),ca(Ma(O),ia))}else ia=0},n,"drag")},stop:function(n,x){fa.stop();ka();o("eventDragStop",Z,O,n,x);if(ia)na(this,O,ia,0,O.allDay,n,x);else{Z.css("filter","");q(O,Z)}}})}var f=this;f.renderEvents=a;f.compileDaySegs=g;f.clearEvents=b;f.bindDaySeg=c;Cc.call(f);var y=f.opt,o=f.trigger,B=f.isEventDraggable,G=f.isEventResizable,V=f.reportEvents,U=f.reportEventClear,D=f.eventElementHandlers,q=f.showEvents,ga=f.hideEvents,na=f.eventDrop,la=f.getDaySegmentContainer,
qa=f.getHoverListener,sa=f.renderDayOverlay,ka=f.clearOverlays,ha=f.getRowCnt,pa=f.getColCnt,ta=f.renderDaySegs,oa=f.resizableDayEvent}function Cc(){function a(k,e){var l=d(),u=ta(),i=oa(),m=0,h,H,Y=k.length,w,s;l[0].innerHTML=g(k);c(k,l.children());j(k);f(k,l,e);y(k);o(k);B(k);e=G();for(l=0;l<u;l++){h=[];for(H=0;H<i;H++)h[H]=0;for(;m<Y&&(w=k[m]).row==l;){H=gb(h.slice(w.startCol,w.endCol));w.top=H;H+=w.outerHeight;for(s=w.startCol;s<w.endCol;s++)h[s]=H;m++}e[l].height(gb(h))}U(k,V(e))}function b(k,
e,l){var u=v("<div/>"),i=d(),m=k.length,h;u[0].innerHTML=g(k);u=u.children();i.append(u);c(k,u);y(k);o(k);B(k);U(k,V(G()));u=[];for(i=0;i<m;i++)if(h=k[i].element){k[i].row===e&&h.css("top",l);u.push(h[0])}return v(u)}function g(k){var e=ga("isRTL"),l,u=k.length,i,m,h,H;l=Z();var Y=l.left,w=l.right,s,C,M,A,J="",R=0;for(l=0;l<u;l++){i=k[l];m=i.event;H=["fc-event","fc-event-skin","fc-event-hori"];la(m)&&H.push("fc-event-draggable");if(e){i.isStart&&H.push("fc-corner-right");i.isEnd&&H.push("fc-corner-left");
s=n(i.end.getDay()-1);C=n(i.start.getDay());M=i.isEnd?fa(s):Y;A=i.isStart?ia(C):w}else{i.isStart&&H.push("fc-corner-left");i.isEnd&&H.push("fc-corner-right");s=n(i.start.getDay());C=n(i.end.getDay()-1);M=i.isStart?fa(s):Y;A=i.isEnd?ia(C):w}var p=Fa(new Date);h=Fa(i.start);p=+p==+h?" fc-state-highlight fc-today":"";var I="",da="";if(R!=+h){I=Ga(L(i.start,i.end,ga("dateFormat")));R=+h;da=" fc-agenda-list-day"}J+="<table class='fc-agenda-list-container"+da+"' style='padding-bottom:5px;'>";J+="<tr>";
J+="<th class='fc-event"+p+"' style='text-align: left;'>"+I+"</th>";J+="<td style='width:120px;' class='fc-event'>";J+=!m.allDay&&i.isStart?"<span class='fc-event-time-seg'>"+Ga(L(m.start,m.end,ga("timeFormat")))+"</span>":"<span class='fc-event-time-seg'>All day</span>";J+="</td>";H=H.concat(m.className);if(m.source)H=H.concat(m.source.className||[]);h=m.url;vb(m,ga);J+="<td style=''>";J+="<span class='fc-event-title'> "+(h?"<a href='"+Ga(h)+"'":"<span")+" class='"+H.join(" ")+"'>"+Ga(m.title)+"</"+
(h?"a":"span")+"></span>";J+="</td>";J+="</tr></table>";i.left=M;i.outerWidth=A-M;i.startCol=s;i.endCol=C+1}return J}function c(k,e){var l,u=k.length,i,m,h;for(l=0;l<u;l++){i=k[l];m=i.event;h=v(e[l]);m=na("eventRender",m,m,h);if(m===false)h.remove();else{if(m&&m!==true){m=v(m).css({position:"absolute",left:i.left});h.replaceWith(m);h=m}i.element=h}}}function j(k){var e,l=k.length,u,i;for(e=0;e<l;e++){u=k[e];(i=u.element)&&sa(u.event,i)}}function f(k,e,l){var u=k.length,i,m,h;for(e=0;e<u;e++){i=k[e];
if(m=i.element){h=i.event;if(h._id===l)K(h,m,i);else if(m[0]!=ra)m[0]._fci=e}}}function y(k){var e,l=k.length,u,i,m,h,H={};for(e=0;e<l;e++){u=k[e];if(i=u.element){m=u.key=ub(i[0]);h=H[m];if(h===ra)h=H[m]=fb(i,true);u.hsides=h}}}function o(k){var e,l=k.length,u,i;for(e=0;e<l;e++){u=k[e];if(i=u.element)i[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px"}}function B(k){var e,l=k.length,u,i,m,h,H={};for(e=0;e<l;e++){u=k[e];if(i=u.element){m=u.key;h=H[m];if(h===ra)h=H[m]=tb(i);u.outerHeight=i[0].offsetHeight+
h}}}function G(){var k,e=ta(),l=[];for(k=0;k<e;k++)l[k]=O(k).find("td:first div.fc-day-content > div");return l}function V(k){var e,l=k.length,u=[];for(e=0;e<l;e++)u[e]=k[e][0].offsetTop;return u}function U(k,e){var l,u=k.length,i,m;for(l=0;l<u;l++){i=k[l];if(m=i.element){m[0].style.top=e[i.row]+(i.top||0)+"px";i=i.event;na("eventAfterRender",i,i,m)}}}function D(k,e,l){var u=ga("isRTL"),i=u?"w":"e",m=e.find("div.ui-resizable-"+i),h=false;Ya(e);e.mousedown(function(H){H.preventDefault()}).click(function(H){if(h){H.preventDefault();
H.stopImmediatePropagation()}});m.mousedown(function(H){function Y(ea){na("eventResizeStop",this,k,ea);v("body").css("cursor","");w.stop();aa();R&&pa(this,k,R,0,ea);setTimeout(function(){h=false},0)}if(H.which==1){h=true;var w=q.getHoverListener(),s=ta(),C=oa(),M=u?-1:1,A=u?C-1:0,J=e.css("top"),R,p,I=v.extend({},k),da=x(k.start);va();v("body").css("cursor",i+"-resize").one("mouseup",Y);na("eventResizeStart",this,k,H);w.start(function(ea,ja){if(ea){var ma=Math.max(da.row,ea.row);ea=ea.col;if(s==1)ma=
0;if(ma==da.row)ea=u?Math.min(da.col,ea):Math.max(da.col,ea);R=ma*7+ea*M+A-(ja.row*7+ja.col*M+A);ja=ca(qa(k),R,true);if(R){I.end=ja;ma=p;p=b(Q([I]),l.row,J);p.find("*").css("cursor",i+"-resize");ma&&ma.remove();ha(k)}else if(p){ka(k);p.remove();p=null}aa();W(k.start,ca(P(ja),1))}},H)}})}var q=this;q.renderDaySegs=a;q.resizableDayEvent=D;var ga=q.opt,na=q.trigger,la=q.isEventDraggable,qa=q.eventEnd,sa=q.reportEventElement,ka=q.showEvents,ha=q.hideEvents,pa=q.eventResize,ta=q.getRowCnt,oa=q.getColCnt,
O=q.allDayRow,Z=q.allDayBounds,fa=q.colContentLeft,ia=q.colContentRight,n=q.dayOfWeekCol,x=q.dateCell,Q=q.compileDaySegs,d=q.getDaySegmentContainer,K=q.bindDaySeg,L=q.calendar.formatDates,W=q.renderDayOverlay,aa=q.clearOverlays,va=q.clearSelection}function xb(a,b,g){function c(n,x){n=ia[n];if(typeof n=="object")return pb(n,x||g);return n}function j(n,x){return b.trigger.apply(b,[n,x||ha].concat(Array.prototype.slice.call(arguments,2),[ha]))}function f(n){return o(n)&&!c("disableDragging")}function y(n){return o(n)&&
!c("disableResizing")}function o(n){return Xa(n.editable,(n.source||{}).editable,c("editable"))}function B(n){O={};var x,Q=n.length,d;for(x=0;x<Q;x++){d=n[x];if(O[d._id])O[d._id].push(d);else O[d._id]=[d]}}function G(n){return n.end?P(n.end):pa(n)}function V(n,x){Z.push(x);if(fa[n._id])fa[n._id].push(x);else fa[n._id]=[x]}function U(){Z=[];fa={}}function D(n,x){x.click(function(Q){if(!x.hasClass("ui-draggable-dragging")&&!x.hasClass("ui-resizable-resizing"))return j("eventClick",this,n,Q)}).hover(function(Q){j("eventMouseover",
this,n,Q)},function(Q){j("eventMouseout",this,n,Q)})}function q(n,x){na(n,x,"show")}function ga(n,x){na(n,x,"hide")}function na(n,x,Q){n=fa[n._id];var d,K=n.length;for(d=0;d<K;d++)if(!x||n[d][0]!=x[0])n[d][Q]()}function la(n,x,Q,d,K,L,W){var aa=x.allDay,va=x._id;sa(O[va],Q,d,K);j("eventDrop",n,x,Q,d,K,function(){sa(O[va],-Q,-d,aa);oa(va)},L,W);oa(va)}function qa(n,x,Q,d,K,L){var W=x._id;ka(O[W],Q,d);j("eventResize",n,x,Q,d,function(){ka(O[W],-Q,-d);oa(W)},K,L);oa(W)}function sa(n,x,Q,d){Q=Q||0;for(var K,
L=n.length,W=0;W<L;W++){K=n[W];if(d!==ra)K.allDay=d;ya(ca(K.start,x,true),Q);if(K.end)K.end=ya(ca(K.end,x,true),Q);ta(K,ia)}}function ka(n,x,Q){Q=Q||0;for(var d,K=n.length,L=0;L<K;L++){d=n[L];d.end=ya(ca(G(d),x,true),Q);ta(d,ia)}}var ha=this;ha.element=a;ha.calendar=b;ha.name=g;ha.opt=c;ha.trigger=j;ha.isEventDraggable=f;ha.isEventResizable=y;ha.reportEvents=B;ha.eventEnd=G;ha.reportEventElement=V;ha.reportEventClear=U;ha.eventElementHandlers=D;ha.showEvents=q;ha.hideEvents=ga;ha.eventDrop=la;ha.eventResize=
qa;var pa=ha.defaultEventEnd,ta=b.normalizeEvent,oa=b.reportEventChange,O={},Z=[],fa={},ia=b.options}function Rb(){function a(e,l){var u=K(),i=oa(),m=O(),h=0,H,Y,w=e.length,s,C;u[0].innerHTML=g(e);c(e,u.children());j(e);f(e,u,l);y(e);o(e);B(e);l=G();for(u=0;u<i;u++){H=[];for(Y=0;Y<m;Y++)H[Y]=0;for(;h<w&&(s=e[h]).row==u;){Y=gb(H.slice(s.startCol,s.endCol));s.top=Y;Y+=s.outerHeight;for(C=s.startCol;C<s.endCol;C++)H[C]=Y;h++}l[u].height(gb(H))}U(e,V(l))}function b(e,l,u){var i=v("<div/>"),m=K(),h=e.length,
H;i[0].innerHTML=g(e);i=i.children();m.append(i);c(e,i);y(e);o(e);B(e);U(e,V(G()));i=[];for(m=0;m<h;m++)if(H=e[m].element){e[m].row===l&&H.css("top",u);i.push(H[0])}return v(i)}function g(e){var l=ga("isRTL"),u,i=e.length,m,h,H,Y;u=fa();var w=u.left,s=u.right,C,M,A,J,R,p="";for(u=0;u<i;u++){m=e[u];h=m.event;Y=["fc-event","fc-event-skin","fc-event-hori"];la(h)&&Y.push("fc-event-draggable");if(l){m.isStart&&Y.push("fc-corner-right");m.isEnd&&Y.push("fc-corner-left");C=x(m.end.getDay()-1);M=x(m.start.getDay());
A=m.isEnd?ia(C):w;J=m.isStart?n(M):s}else{m.isStart&&Y.push("fc-corner-left");m.isEnd&&Y.push("fc-corner-right");C=x(m.start.getDay());M=x(m.end.getDay()-1);A=m.isStart?ia(C):w;J=m.isEnd?n(M):s}Y=Y.concat(h.className);if(h.source)Y=Y.concat(h.source.className||[]);H=h.url;R=vb(h,ga);p+=H?"<a href='"+Ga(H)+"'":"<div";p+=" class='"+Y.join(" ")+"' style='position:absolute;z-index:8;left:"+A+"px;"+R+"'><div class='fc-event-inner fc-event-skin'"+(R?" style='"+R+"'":"")+">";if(!h.allDay&&m.isStart)p+="<span class='fc-event-time'>"+
Ga(W(h.start,h.end,ga("timeFormat")))+"</span>";p+="<span class='fc-event-title'>"+Ga(h.title)+"</span></div>";if(m.isEnd&&qa(h))p+="<div class='ui-resizable-handle ui-resizable-"+(l?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";p+="</"+(H?"a":"div")+">";m.left=A;m.outerWidth=J-A;m.startCol=C;m.endCol=M+1}return p}function c(e,l){var u,i=e.length,m,h,H;for(u=0;u<i;u++){m=e[u];h=m.event;H=v(l[u]);h=na("eventRender",h,h,H);if(h===false)H.remove();else{if(h&&h!==true){h=v(h).css({position:"absolute",left:m.left});
H.replaceWith(h);H=h}m.element=H}}}function j(e){var l,u=e.length,i,m;for(l=0;l<u;l++){i=e[l];(m=i.element)&&ka(i.event,m)}}function f(e,l,u){var i,m=e.length,h,H,Y;for(i=0;i<m;i++){h=e[i];if(H=h.element){Y=h.event;if(Y._id===u)L(Y,H,h);else H[0]._fci=i}}Ob(l,e,L)}function y(e){var l,u=e.length,i,m,h,H,Y={};for(l=0;l<u;l++){i=e[l];if(m=i.element){h=i.key=ub(m[0]);H=Y[h];if(H===ra)H=Y[h]=fb(m,true);i.hsides=H}}}function o(e){var l,u=e.length,i,m;for(l=0;l<u;l++){i=e[l];if(m=i.element)m[0].style.width=
Math.max(0,i.outerWidth-i.hsides)+"px"}}function B(e){var l,u=e.length,i,m,h,H,Y={};for(l=0;l<u;l++){i=e[l];if(m=i.element){h=i.key;H=Y[h];if(H===ra)H=Y[h]=tb(m);i.outerHeight=m[0].offsetHeight+H}}}function G(){var e,l=oa(),u=[];for(e=0;e<l;e++)u[e]=Z(e).find("td:first div.fc-day-content > div");return u}function V(e){var l,u=e.length,i=[];for(l=0;l<u;l++)i[l]=e[l][0].offsetTop;return i}function U(e,l){var u,i=e.length,m,h;for(u=0;u<i;u++){m=e[u];if(h=m.element){h[0].style.top=l[m.row]+(m.top||0)+
"px";m=m.event;na("eventAfterRender",m,m,h)}}}function D(e,l,u){var i=ga("isRTL"),m=i?"w":"e",h=l.find("div.ui-resizable-"+m),H=false;Ya(l);l.mousedown(function(Y){Y.preventDefault()}).click(function(Y){if(H){Y.preventDefault();Y.stopImmediatePropagation()}});h.mousedown(function(Y){function w(ja){na("eventResizeStop",this,e,ja);v("body").css("cursor","");s.stop();va();p&&ta(this,e,p,0,ja);setTimeout(function(){H=false},0)}if(Y.which==1){H=true;var s=q.getHoverListener(),C=oa(),M=O(),A=i?-1:1,J=i?
M-1:0,R=l.css("top"),p,I,da=v.extend({},e),ea=Q(e.start);k();v("body").css("cursor",m+"-resize").one("mouseup",w);na("eventResizeStart",this,e,Y);s.start(function(ja,ma){if(ja){var E=Math.max(ea.row,ja.row);ja=ja.col;if(C==1)E=0;if(E==ea.row)ja=i?Math.min(ea.col,ja):Math.max(ea.col,ja);p=E*7+ja*A+J-(ma.row*7+ma.col*A+J);ma=ca(sa(e),p,true);if(p){da.end=ma;E=I;I=b(d([da]),u.row,R);I.find("*").css("cursor",m+"-resize");E&&E.remove();pa(e)}else if(I){ha(e);I.remove();I=null}va();aa(e.start,ca(P(ma),
1))}},Y)}})}var q=this;q.renderDaySegs=a;q.resizableDayEvent=D;var ga=q.opt,na=q.trigger,la=q.isEventDraggable,qa=q.isEventResizable,sa=q.eventEnd,ka=q.reportEventElement,ha=q.showEvents,pa=q.hideEvents,ta=q.eventResize,oa=q.getRowCnt,O=q.getColCnt,Z=q.allDayRow,fa=q.allDayBounds,ia=q.colContentLeft,n=q.colContentRight,x=q.dayOfWeekCol,Q=q.dateCell,d=q.compileDaySegs,K=q.getDaySegmentContainer,L=q.bindDaySeg,W=q.calendar.formatDates,aa=q.renderDayOverlay,va=q.clearOverlays,k=q.clearSelection}function zb(){function a(U,
D,q){b();D||(D=o(U,q));B(U,D,q);g(U,D,q)}function b(U){if(V){V=false;G();y("unselect",null,U)}}function g(U,D,q,ga){V=true;y("select",null,U,D,q,ga)}function c(U){var D=j.cellDate,q=j.cellIsAllDay,ga=j.getHoverListener(),na=j.reportDayClick;if(U.which==1&&f("selectable")){b(U);var la;ga.start(function(qa,sa){G();if(qa&&q(qa)){la=[D(sa),D(qa)].sort(Qb);B(la[0],la[1],true)}else la=null},U);v(document).one("mouseup",function(qa){ga.stop();if(la){+la[0]==+la[1]&&na(la[0],true,qa);g(la[0],la[1],true,qa)}})}}
var j=this;j.select=a;j.unselect=b;j.reportSelection=g;j.daySelectionMousedown=c;var f=j.opt,y=j.trigger,o=j.defaultSelectionEnd,B=j.renderSelection,G=j.clearSelection,V=false;f("selectable")&&f("unselectAuto")&&v(document).mousedown(function(U){var D=f("unselectCancel");if(D)if(v(U.target).parents(D).length)return;b(U)})}function yb(){function a(f,y){var o=j.shift();o||(o=v("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));o[0].parentNode!=y[0]&&o.appendTo(y);c.push(o.css(f).show());
return o}function b(){for(var f;f=c.shift();)j.push(f.hide().unbind())}var g=this;g.renderOverlay=a;g.clearOverlays=b;var c=[],j=[]}function Ab(a){var b=this,g,c;b.build=function(){g=[];c=[];a(g,c)};b.cell=function(j,f){var y=g.length,o=c.length,B,G=-1,V=-1;for(B=0;B<y;B++)if(f>=g[B][0]&&f<g[B][1]){G=B;break}for(B=0;B<o;B++)if(j>=c[B][0]&&j<c[B][1]){V=B;break}return G>=0&&V>=0?{row:G,col:V}:null};b.rect=function(j,f,y,o,B){B=B.offset();return{top:g[j][0]-B.top,left:c[f][0]-B.left,width:c[o][1]-c[f][0],
height:g[y][1]-g[j][0]}}}function Bb(a){function b(o){Dc(o);o=a.cell(o.pageX,o.pageY);if(!o!=!y||o&&(o.row!=y.row||o.col!=y.col)){if(o){f||(f=o);j(o,f,o.row-f.row,o.col-f.col)}else j(o,f);y=o}}var g=this,c,j,f,y;g.start=function(o,B,G){j=o;f=y=null;a.build();b(B);c=G||"mousemove";v(document).bind(c,b)};g.stop=function(){v(document).unbind(c,b);return y}}function Dc(a){if(a.pageX===ra){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Cb(a){function b(y){return c[y]=c[y]||a(y)}
var g=this,c={},j={},f={};g.left=function(y){return j[y]=j[y]===ra?b(y).position().left:j[y]};g.right=function(y){return f[y]=f[y]===ra?g.left(y)+b(y).width():f[y]};g.clear=function(){c={};j={};f={}}}function ac(a){var b=jQuery(".fc-agenda-slots:visible").parent(),g=b.children(".timeline");if(g.length==0){g=jQuery("<hr>").addClass("timeline");b.prepend(g)}var c=new Date;if(a.visStart<c&&a.visEnd>c){g.show();c=(c.getHours()*60*60+c.getMinutes()*60+c.getSeconds())/86400;b=Math.floor(b.height()*c);g.css("top",
b+"px");if(a.name=="agendaWeek"){b=jQuery(".fc-today:visible");a=b.position().left+1;b=b.width()-2;g.css({left:a+"px",width:b+"px"})}}else g.hide()}var bb={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,timeline:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",agenda:"dddd, d MMM yyyy"},columnFormat:{month:"ddd",
week:"ddd M/d",day:"dddd M/d",agenda:"dddd, d MMM"},timeFormat:{"":"h(:mm)t"},dateFormat:{"":"ddd MMM d"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",
next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",agenda:"agenda"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Ec={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},
Ba=v.fullCalendar={version:"1.5.3"},Ha=Ba.views={};v.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),g;this.each(function(){var j=v.data(this,"fullCalendar");if(j&&v.isFunction(j[a])){j=j[a].apply(j,b);if(g===ra)g=j;a=="destroy"&&v.removeData(this,"fullCalendar")}});if(g!==ra)return g;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);delete a.events}a=v.extend(true,{},bb,a.isRTL||a.isRTL===ra&&bb.isRTL?Ec:{},a);
this.each(function(j,f){j=v(f);f=new Zb(j,a,c);j.data("fullCalendar",f);f.render()});return this};Ba.sourceNormalizers=[];Ba.sourceFetchers=[];var cc={dataType:"json",cache:false},dc=1;Ba.addDays=ca;Ba.cloneDate=P;Ba.parseDate=qb;Ba.parseISO8601=Mb;Ba.parseTime=sb;Ba.formatDate=Ra;Ba.formatDates=ob;var nc=["sun","mon","tue","wed","thu","fri","sat"],Lb=864E5,ec=36E5,yc=6E4,fc={s:function(a){return a.getSeconds()},ss:function(a){return Ta(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Ta(a.getMinutes())},
h:function(a){return a.getHours()%12||12},hh:function(a){return Ta(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ta(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ta(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ta(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},
yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ra(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ba.applyAll=cb;Ha.month=oc;Ha.basicWeek=pc;Ha.basicDay=qc;Hb({weekMode:"fixed"});
Ha.agendaWeek=sc;Ha.agendaDay=tc;Hb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ha.agenda=zc;var Gb=30})(jQuery);
